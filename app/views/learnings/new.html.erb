<%= render "shared/header" %>

<h1> 問題作成ページ </h1>

<%= form_with model: @learning, local: true do |f| %>

<%= render 'shared/error_messages', model: f.object %>

  <div class="field">
    <%= f.label :title, "タイトル" %><br />
    <%= f.text_field :title %>
  </div>

  <div class="dropdown">
    <%= f.label :category_id, "カテゴリー" %><br />
    <%= f.collection_select(:category_id, Category.all, :id, :name, {}, {class:"select-default"})  %>
  </div>

  <div class="field">
    <%= f.label :comment, "説明・コメント" %><br />
    <%= f.text_area :comment %>
  </div>

  <%= f.fields_for :questions do |qu| %>
    <div class="field">
      <%= qu.label :question, "問題" %><br />
      <%= qu.text_field :question %>
    </div>

    <%= qu.fields_for :choices do |ch| %>
      <div class="radio_buttons">
        <%= ch.label :is_answer, "答えを選択", value: true %>
        <%= ch.radio_button :is_answer, true %>
      </div>

      <div class="field">
        <%= ch.label :content, "選択肢" %>
        <%= ch.text_field :content %>
      </div>

    <% end %>

    <div class="field">
      <%= qu.label :description, "説明" %><br />
      <%= qu.text_field :description %>
    </div>

  <% end %>
  <%= f.submit 'send' %>
<% end %>